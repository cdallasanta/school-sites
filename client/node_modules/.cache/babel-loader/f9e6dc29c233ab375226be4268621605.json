{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Chris/Documents/projects/school-sites/client/src/components/SchoolSelector.js\";\nimport React from 'react';\nimport '../stylesheets/selector.scss';\n\nclass SchoolSelector extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.schoolsForSelect = () => {\n      const schools = this.state.schools.filter(s => s.grade_level === this.state.grade_level);\n      return schools.map((school, i) => {\n        return React.createElement(\"option\", {\n          value: school.id,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, school.name);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.school_id) {\n        this.props.history.push(\"/districts/\".concat(this.props.dist_id, \"/schools/\").concat(this.state.school_id));\n      }\n    };\n\n    this.dropdownForm = () => {\n      return React.createElement(\"form\", {\n        id: \"school-selector\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"grade_level\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Select grade level: \"), React.createElement(\"select\", {\n        value: this.state.grade_level,\n        onChange: this.handleChange,\n        name: \"grade_level\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"option\", {\n        value: \"elementary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Elementary\"), React.createElement(\"option\", {\n        value: \"k-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"K-8\"), React.createElement(\"option\", {\n        value: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Middle\"), React.createElement(\"option\", {\n        value: \"high\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"High\"))), this.state.grade_level !== \"\" ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"school_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Select your school: \"), React.createElement(\"select\", {\n        value: this.state.school_id,\n        onChange: this.handleChange,\n        name: \"school_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), this.schoolsForSelect())) : null, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Select School\",\n        onClick: e => this.handleSubmit(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }));\n    };\n\n    this.state = {\n      schools: props.schools,\n      grade_level: \"\",\n      school_id: \"\"\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.dist_id !== prevProps.dist_id) {\n      const dist_id = this.props.dist_id;\n      fetch(\"/api/districts/\".concat(dist_id, \"/schools\")).then(resp => resp.json()).then(data => {\n        this.setState({\n          schools: data\n        });\n      });\n    }\n  }\n\n  render() {\n    return this.dropdownForm();\n  }\n\n}\n\nexport default SchoolSelector;","map":{"version":3,"sources":["/mnt/c/Users/Chris/Documents/projects/school-sites/client/src/components/SchoolSelector.js"],"names":["React","SchoolSelector","Component","constructor","props","handleChange","e","setState","target","name","value","schoolsForSelect","schools","state","filter","s","grade_level","map","school","i","id","handleSubmit","preventDefault","school_id","history","push","dist_id","dropdownForm","componentDidUpdate","prevProps","fetch","then","resp","json","data","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../stylesheets/selector.scss'\r\n\r\nclass SchoolSelector extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      schools: props.schools,\r\n      grade_level: \"\",\r\n      school_id: \"\"\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.dist_id !== prevProps.dist_id){\r\n      const dist_id = this.props.dist_id\r\n      fetch(`/api/districts/${dist_id}/schools`)\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          this.setState({schools: data});\r\n        })\r\n    }\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\n  schoolsForSelect = () => {\r\n    const schools = this.state.schools.filter(s => s.grade_level === this.state.grade_level)\r\n\r\n    return schools.map((school, i) => {\r\n      return <option value={school.id} key={i}>{school.name}</option>\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.school_id){\r\n      this.props.history.push(`/districts/${this.props.dist_id}/schools/${this.state.school_id}`)\r\n    }\r\n  }\r\n\r\n  dropdownForm = () => {\r\n    return (\r\n      <form id=\"school-selector\">\r\n        <div>\r\n          <label htmlFor=\"grade_level\">Select grade level: </label>\r\n          <select value={this.state.grade_level} onChange={this.handleChange} name=\"grade_level\">\r\n            <option value=\"\"></option>\r\n            <option value=\"elementary\">Elementary</option>\r\n            <option value=\"k-8\">K-8</option>\r\n            <option value=\"middle\">Middle</option>\r\n            <option value=\"high\">High</option>\r\n          </select>\r\n        </div>\r\n\r\n        {this.state.grade_level !== \"\" ?\r\n          <div>\r\n            <label htmlFor=\"school_id\">Select your school: </label>\r\n            <select value={this.state.school_id} onChange={this.handleChange} name=\"school_id\">\r\n              <option value=\"\"></option>\r\n              {this.schoolsForSelect()}\r\n            </select>\r\n          </div>\r\n          :\r\n          null\r\n        }\r\n\r\n        <input type=\"submit\" value=\"Select School\" onClick={e=>this.handleSubmit(e)} />\r\n      </form>\r\n    )\r\n  }\r\n\r\n  render(){    \r\n    return (\r\n      this.dropdownForm()\r\n    )\r\n  }\r\n}\r\n\r\nexport default SchoolSelector;"]},"metadata":{},"sourceType":"module"}