{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Chris/Documents/projects/school-sites/client/src/containers/SchoolContainer.js\";\nimport React from 'react';\nimport NavigationMenu from '../components/NavigationMenu';\nimport ContactInfo from '../components/ContactInfo';\nimport Ad from '../components/Ad';\nimport Footer from '../components/Footer';\nimport BlogList from '../containers/BlogList';\nimport EventsList from '../containers/EventsList';\nimport SchoolSelector from '../components/SchoolSelector';\n\nclass SchoolContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      school_data: {\n        name: \"\",\n        blogs: [],\n        events: [],\n        site_rep: \"\",\n        district: {\n          id: \"\"\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    const dist_id = this.props.match.params.dist_id;\n    const school_id = this.props.match.params.school_id;\n    fetch(\"http://localhost:3001/api/districts/\".concat(dist_id, \"/schools/\").concat(school_id)).then(resp => resp.json()).then(data => {\n      this.setState({\n        school_data: data\n      }, () => console.log(this.state.school_data.district));\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.school_id !== prevProps.match.params.school_id) {\n      const dist_id = this.props.match.params.dist_id;\n      const school_id = this.props.match.params.school_id;\n      fetch(\"http://localhost:3001/api/districts/\".concat(dist_id, \"/schools/\").concat(school_id)).then(resp => resp.json()).then(data => {\n        this.setState({\n          school_data: data\n        });\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"school-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      id: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.state.school_data.name), React.createElement(ContactInfo, {\n      contact: this.state.school_data.site_rep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(Ad, {\n      size: \"banner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"sidebar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(NavigationMenu, {\n      school: this.state.school_data,\n      district_id: this.state.school_data.district.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(SchoolSelector, {\n      schools: this.state.school_data.district.schools,\n      dist_id: this.state.school_data.district.id,\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(Ad, {\n      size: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Ad, {\n      size: \"panel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(BlogList, {\n      blogs: this.state.school_data.blogs,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(EventsList, {\n      events: this.state.school_data.events,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default SchoolContainer;","map":{"version":3,"sources":["/mnt/c/Users/Chris/Documents/projects/school-sites/client/src/containers/SchoolContainer.js"],"names":["React","NavigationMenu","ContactInfo","Ad","Footer","BlogList","EventsList","SchoolSelector","SchoolContainer","Component","state","school_data","name","blogs","events","site_rep","district","id","componentDidMount","dist_id","props","match","params","school_id","fetch","then","resp","json","data","setState","console","log","componentDidUpdate","prevProps","render","schools","history"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport NavigationMenu from '../components/NavigationMenu';\r\nimport ContactInfo from '../components/ContactInfo';\r\nimport Ad from '../components/Ad';\r\nimport Footer from '../components/Footer';\r\nimport BlogList from '../containers/BlogList';\r\nimport EventsList from '../containers/EventsList';\r\nimport SchoolSelector from '../components/SchoolSelector';\r\n\r\nclass SchoolContainer extends React.Component {\r\n  state = {\r\n    school_data: {\r\n      name: \"\",\r\n      blogs: [],\r\n      events: [],\r\n      site_rep: \"\",\r\n      district: {id:\"\"}\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    const dist_id = this.props.match.params.dist_id\r\n    const school_id = this.props.match.params.school_id\r\n    fetch(`http://localhost:3001/api/districts/${dist_id}/schools/${school_id}`)\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        this.setState({school_data: data}, () => console.log(this.state.school_data.district));\r\n      })\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match.params.school_id !== prevProps.match.params.school_id) {\r\n      const dist_id = this.props.match.params.dist_id\r\n      const school_id = this.props.match.params.school_id\r\n      fetch(`http://localhost:3001/api/districts/${dist_id}/schools/${school_id}`)\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          this.setState({school_data: data});\r\n        })\r\n    }\r\n   }\r\n\r\n  render(){\r\n    return (\r\n      <div id=\"school-page\">\r\n        <header id=\"header\">\r\n          <h1>{this.state.school_data.name}</h1>\r\n          <ContactInfo contact={this.state.school_data.site_rep} />\r\n          <Ad size=\"banner\" />\r\n        </header>\r\n        <div id=\"sidebar\">\r\n          <NavigationMenu\r\n            school={this.state.school_data}\r\n            district_id={this.state.school_data.district.id} />\r\n          <SchoolSelector schools={this.state.school_data.district.schools} dist_id={this.state.school_data.district.id} history={this.props.history}/>\r\n          <Ad size=\"panel\" />\r\n          <Ad size=\"panel\" />\r\n        </div>\r\n        <BlogList blogs={this.state.school_data.blogs} />\r\n        <EventsList events={this.state.school_data.events} />\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SchoolContainer;"]},"metadata":{},"sourceType":"module"}