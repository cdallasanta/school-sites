{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Chris/Documents/projects/school-sites/client/src/components/SchoolSelector.js\";\nimport React from 'react';\n\nclass SchoolSelector extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      district: null,\n      grade_level: null,\n      school_id: null\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.schoolsForSelect = () => {\n      const schools = this.state.district.schools.filter(s => s.grade_level === this.state.grade_level);\n      return schools.map((school, i) => {\n        return React.createElement(\"option\", {\n          value: school.id,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        }, school.name);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.history.push(\"/schools/\".concat(this.state.school_id));\n    };\n\n    this.dropdownForm = () => {\n      return React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"grade_level\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Select grade level: \"), React.createElement(\"select\", {\n        value: this.state.grade_level,\n        onChange: this.handleChange,\n        name: \"grade_level\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"elementary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Elementary\"), React.createElement(\"option\", {\n        value: \"k-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"K-8\"), React.createElement(\"option\", {\n        value: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Middle\"), React.createElement(\"option\", {\n        value: \"high\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"High\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), this.state.grade_level ? React.createElement(\"select\", {\n        value: this.state.school_id,\n        onChange: this.handleChange,\n        name: \"school_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Select your school\"), this.schoolsForSelect()) : null, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Select School\",\n        onClick: e => this.handleSubmit(e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }));\n    };\n  }\n\n  componentDidMount() {\n    const dist_id = this.props.match.params.id;\n    fetch(\"http://localhost:3001/api/districts/\".concat(dist_id)).then(resp => resp.json()).then(data => {\n      this.setState({\n        district: data\n      });\n    });\n  }\n\n  render() {\n    let resp;\n\n    if (this.state.district) {\n      resp = this.dropdownForm();\n    } else {\n      resp = \"Loading schools\";\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, resp);\n  }\n\n}\n\nexport default SchoolSelector;","map":{"version":3,"sources":["/mnt/c/Users/Chris/Documents/projects/school-sites/client/src/components/SchoolSelector.js"],"names":["React","SchoolSelector","Component","state","district","grade_level","school_id","handleChange","e","setState","target","name","value","schoolsForSelect","schools","filter","s","map","school","i","id","handleSubmit","preventDefault","props","history","push","dropdownForm","componentDidMount","dist_id","match","params","fetch","then","resp","json","data","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nclass SchoolSelector extends React.Component {\r\n  state = {\r\n    district: null,\r\n    grade_level: null,\r\n    school_id: null\r\n  }\r\n\r\n  componentDidMount(){\r\n    const dist_id = this.props.match.params.id\r\n    fetch(`http://localhost:3001/api/districts/${dist_id}`)\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        this.setState({district: data});\r\n      })\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\n  schoolsForSelect = () => {\r\n    const schools = this.state.district.schools.filter(s => s.grade_level === this.state.grade_level)\r\n\r\n    return schools.map((school, i) => {\r\n      return <option value={school.id} key={i}>{school.name}</option>\r\n    })\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.history.push(`/schools/${this.state.school_id}`)\r\n  }\r\n\r\n  dropdownForm = () => {\r\n    return (\r\n      <form>\r\n        <label for=\"grade_level\">Select grade level: </label>\r\n        <select value={this.state.grade_level} onChange={this.handleChange} name=\"grade_level\">\r\n          <option value=\"elementary\">Elementary</option>\r\n          <option value=\"k-8\">K-8</option>\r\n          <option value=\"middle\">Middle</option>\r\n          <option value=\"high\">High</option>\r\n        </select><br />\r\n\r\n        {this.state.grade_level ?\r\n          <select value={this.state.school_id} onChange={this.handleChange} name=\"school_id\">\r\n            <option value={null}>Select your school</option>\r\n            {this.schoolsForSelect()}\r\n          </select>\r\n          :\r\n          null\r\n        }\r\n\r\n        <input type=\"submit\" value=\"Select School\" onClick={e=>this.handleSubmit(e)} />\r\n      </form>\r\n    )\r\n  }\r\n\r\n  render(){\r\n    let resp;\r\n    if (this.state.district){\r\n      resp = this.dropdownForm();\r\n    } else {\r\n      resp = \"Loading schools\"\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        {resp}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SchoolSelector;"]},"metadata":{},"sourceType":"module"}