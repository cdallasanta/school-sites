(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(5),l=a.n(r),o=(a(75),a(13)),i=a(11),s=a(15),d=a(14),h=a(16),m=a(29),u=a(25),p=a(60),v=(a(76),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.schoolsForSelect=function(){return a.state.schools.filter(function(e){return e.grade_level===a.state.grade_level}).map(function(e,t){return c.a.createElement("option",{value:e.id,key:t},e.name)})},a.handleSubmit=function(e){e.preventDefault(),a.state.school_id&&a.props.history.push("/districts/".concat(a.props.dist_id,"/schools/").concat(a.state.school_id))},a.dropdownForm=function(){return c.a.createElement("form",{id:"school-selector"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"grade_level"},"Select grade level: "),c.a.createElement("select",{value:a.state.grade_level,onChange:a.handleChange,name:"grade_level"},c.a.createElement("option",{value:""}),c.a.createElement("option",{value:"elementary"},"Elementary"),c.a.createElement("option",{value:"k-8"},"K-8"),c.a.createElement("option",{value:"middle"},"Middle"),c.a.createElement("option",{value:"high"},"High"))),""!==a.state.grade_level?c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"school_id"},"Select your school: "),c.a.createElement("select",{value:a.state.school_id,onChange:a.handleChange,name:"school_id"},c.a.createElement("option",{value:""}),a.schoolsForSelect())):null,c.a.createElement("input",{type:"submit",value:"Select School",onClick:function(e){return a.handleSubmit(e)}}))},a.state={schools:e.schools,grade_level:"",school_id:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.dist_id!==e.dist_id){var a=this.props.dist_id;fetch("http://localhost:3001/api/districts/".concat(a,"/schools")).then(function(e){return e.json()}).then(function(e){t.setState({schools:e})})}}},{key:"render",value:function(){return this.dropdownForm()}}]),t}(c.a.Component)),E=function(e){return c.a.createElement("div",{id:"navMenu"},c.a.createElement(m.b,{to:"/districts/".concat(e.district_id)},"District Page"),c.a.createElement("br",null),c.a.createElement(m.b,{to:"/districts/".concat(e.district_id,"/calendar")},"District Calendar"),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"link-button",onClick:function(){var e=document.getElementById("nav-contact");e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"}},"School Info"),c.a.createElement("br",null),c.a.createElement("div",{id:"nav-contact",className:"collapsible collapsed"},c.a.createElement("strong",null,"Phone: "),e.school.phone,c.a.createElement("br",null),c.a.createElement("strong",null,"Address: "),e.school.address,c.a.createElement("br",null),c.a.createElement("a",{href:e.school.homepage_url,target:"_"},"Homepage")))},f=function(e){var t=e.contact;return t?c.a.createElement("div",{id:"contact-div"},c.a.createElement("img",{src:t.avatar_url,alt:"rep-avatar"}),c.a.createElement("div",{id:"contact-info"},c.a.createElement("strong",null,"Rep Name:")," ",t.name,c.a.createElement("br",null),c.a.createElement("strong",null,"Rep Email:")," ",t.email)):c.a.createElement("div",null,"There is no site representative for this site. Claim it here!")},b=function(e){var t=e.size;return c.a.createElement("div",{className:"chunk ".concat(t,"-chunk")},t," Ad")},g=function(e){return c.a.createElement("div",{id:"footer"},"Footer")},_=function(e){var t=e.blog;return c.a.createElement("div",{className:"blog-card"},c.a.createElement("div",{className:"blog-title"},t.title),c.a.createElement("div",{className:"blog-teaser"},t.content))},y=(a(81),function(e){var t=e.blogs;return c.a.createElement("div",{id:"blogs-section"},c.a.createElement("h3",null,"Blogs"),c.a.createElement("div",{id:"blogs-div"},t.map(function(e,t){return c.a.createElement(_,{blog:e,key:t})})))}),j=function(e){var t=e.event,a=new Date(t.start),n=a.toLocaleString("default",{month:"short"}),r=a.toLocaleString("default",{month:"long"}),l=a.getDate(),o=a.toLocaleString("default",{weekday:"long"});return c.a.createElement("div",{className:"event-card"},c.a.createElement("div",{className:"event-big-date"},c.a.createElement("div",{className:"month"},n),c.a.createElement("div",{className:"date"},l)),c.a.createElement("div",{className:"event-details"},c.a.createElement("div",{className:"event-title"},t.title),c.a.createElement("div",{className:"event-full-date"},o,", ",r," ",l)))},O=(a(82),function(e){var t=e.events;return c.a.createElement("div",{id:"events-section"},c.a.createElement("h3",null,"Events"),c.a.createElement("div",{id:"events-div"},t.map(function(e,t){return c.a.createElement(j,{event:e,key:t})})))}),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={school_data:{name:"",blogs:[],events:[],site_rep:"",district:{id:""}}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.dist_id,a=this.props.match.params.school_id;fetch("/api/districts/".concat(t,"/schools/").concat(a)).then(function(e){return e.json()}).then(function(t){e.setState({school_data:t})})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.match.params.school_id!==e.match.params.school_id){var a=this.props.match.params.dist_id,n=this.props.match.params.school_id;fetch("http://localhost:3001/api/districts/".concat(a,"/schools/").concat(n)).then(function(e){return e.json()}).then(function(e){t.setState({school_data:e})})}}},{key:"render",value:function(){return c.a.createElement("div",{id:"school-page"},c.a.createElement("header",{id:"header"},c.a.createElement("h1",null,this.state.school_data.name),c.a.createElement(f,{contact:this.state.school_data.site_rep}),c.a.createElement(b,{size:"banner"})),c.a.createElement("div",{id:"sidebar"},c.a.createElement(E,{school:this.state.school_data,district_id:this.state.school_data.district.id}),c.a.createElement(v,{schools:this.state.school_data.district.schools,dist_id:this.state.school_data.district.id,history:this.props.history}),c.a.createElement(b,{size:"panel"}),c.a.createElement(b,{size:"panel"})),c.a.createElement(y,{blogs:this.state.school_data.blogs}),c.a.createElement(O,{events:this.state.school_data.events}),c.a.createElement(g,null))}}]),t}(c.a.Component),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={district_data:null},a.loadedResponse=function(){return a.state.district_data?c.a.createElement("div",{id:"district-page"},c.a.createElement("header",{id:"header"},c.a.createElement("h1",null,a.state.district_data.name),c.a.createElement(b,{size:"banner"})),c.a.createElement("div",{id:"sidebar"},c.a.createElement(v,{schools:a.state.district_data.schools,dist_id:a.state.district_data.id,history:a.props.history}),c.a.createElement(b,{size:"panel"}),c.a.createElement(b,{size:"panel"})),c.a.createElement(y,{blogs:a.state.district_data.blogs}),c.a.createElement(O,{events:a.state.district_data.events}),c.a.createElement(g,null)):"Loading District data"},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.dist_id;fetch("/api/districts/".concat(t)).then(function(e){return e.json()}).then(function(t){e.setState({district_data:t})})}},{key:"render",value:function(){return this.loadedResponse()}}]),t}(c.a.Component),S=a(50),D=a(69),N=a.n(D),C=(a(103),Object(S.b)(N.a)),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={events:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3001/api/districts/1/schools/1").then(function(e){return e.json()}).then(function(t){var a=[];t.events.map(function(e){return a.push({title:e.title,start:new Date(Date.parse(e.start)),end:new Date(Date.parse(e.end)),allDay:e.allDay})}),e.setState({events:a},function(){return console.log("state updated")})})}},{key:"render",value:function(){return c.a.createElement("div",{style:{height:"80vh",margin:"20px"}},c.a.createElement(S.a,{localizer:C,events:this.state.events,startAccessor:"start",endAccessor:"end"}))}}]),t}(c.a.Component),A=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{textAlign:"center"},c.a.createElement("h1",null,"404: Not found"))}}]),t}(n.Component),z=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(m.a,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:v}),c.a.createElement(u.a,{exact:!0,path:"/districts/:dist_id/selector",component:v}),c.a.createElement(u.a,{exact:!0,path:"/districts/:dist_id/schools/:school_id",component:k}),c.a.createElement(u.a,{exact:!0,path:"/districts/:dist_id",component:w}),c.a.createElement(u.a,{exact:!0,path:"/districts/:dist_id/calendar",component:x}),c.a.createElement(u.a,{component:A}))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},70:function(e,t,a){e.exports=a(104)},75:function(e,t,a){},76:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){}},[[70,1,2]]]);
//# sourceMappingURL=main.51276733.chunk.js.map